// Code generated by goctl. DO NOT EDIT.

package crmx

import (
	"context"
	"database/sql"

	"fmt"

	"strings"
	"time"

	"github.com/zeromicro/go-zero/core/stores/builder"
	"github.com/zeromicro/go-zero/core/stores/sqlx"
	"github.com/zeromicro/go-zero/core/stringx"
)

var (
	tBillExFieldNames          = builder.RawFieldNames(&TBillEx{})
	tBillExRows                = strings.Join(tBillExFieldNames, ",")
	tBillExRowsExpectAutoSet   = strings.Join(stringx.Remove(tBillExFieldNames, "`create_at`", "`create_time`", "`created_at`", "`update_at`", "`update_time`", "`updated_at`"), ",")
	tBillExRowsWithPlaceHolder = strings.Join(stringx.Remove(tBillExFieldNames, "`bill_id`", "`create_at`", "`create_time`", "`created_at`", "`update_at`", "`update_time`", "`updated_at`"), "=?,") + "=?"
	tBillExAutoIncrKey         = "idx"
)

type (
	tBillExModel interface {
		Insert(ctx context.Context, data *TBillEx) (sql.Result, error)
		FindOne(ctx context.Context, billId string) (*TBillEx, error)
		FindOneByIdx(ctx context.Context, idx int64) (*TBillEx, error)
		Update(ctx context.Context, data *TBillEx) error
		Delete(ctx context.Context, billId string) error
	}

	defaultTBillExModel struct {
		conn  sqlx.SqlConn
		table string
	}

	TBillEx struct {
		Idx                           int64           `db:"idx" json:"idx,omitempty" columnType:"int(10)" isNullAble:"NO" defaultValue:"" isAutoIncrKey:"1"`                                                                // 自增Id
		BillId                        string          `db:"bill_id" json:"bill_id,omitempty" columnType:"varchar(64)" isNullAble:"NO" defaultValue:"" isAutoIncrKey:""`                                                     // 执行单Id，主键，唯一
		BillDspId                     string          `db:"bill_dsp_id" json:"bill_dsp_id,omitempty" columnType:"varchar(128)" isNullAble:"NO" defaultValue:"" isAutoIncrKey:""`                                            // 执行单编号，唯一
		Bill                          string          `db:"bill" json:"bill,omitempty" columnType:"varchar(256)" isNullAble:"NO" defaultValue:"" isAutoIncrKey:""`                                                          // 执行单名称
		BillDoc                       sql.NullString  `db:"bill_doc" json:"bill_doc,omitempty" columnType:"varchar(256)" isNullAble:"YES" defaultValue:"" isAutoIncrKey:""`                                                 // 执行单上传文档地址
		BillNotes                     sql.NullString  `db:"bill_notes" json:"bill_notes,omitempty" columnType:"mediumtext" isNullAble:"YES" defaultValue:"" isAutoIncrKey:""`                                               // 备注信息
		AccountId                     string          `db:"account_id" json:"account_id,omitempty" columnType:"varchar(64)" isNullAble:"NO" defaultValue:"" isAutoIncrKey:""`                                               // 客户Id
		Account                       string          `db:"account" json:"account,omitempty" columnType:"varchar(256)" isNullAble:"NO" defaultValue:"" isAutoIncrKey:""`                                                    // 客户名称
		ProxiedAccountId              string          `db:"proxied_account_id" json:"proxied_account_id,omitempty" columnType:"varchar(64)" isNullAble:"NO" defaultValue:"" isAutoIncrKey:""`                               // 被代理客户Id
		ProxiedAccount                string          `db:"proxied_account" json:"proxied_account,omitempty" columnType:"varchar(256)" isNullAble:"NO" defaultValue:"" isAutoIncrKey:""`                                    // 被代理客户Id
		AccountContractId             string          `db:"account_contract_id" json:"account_contract_id,omitempty" columnType:"varchar(64)" isNullAble:"NO" defaultValue:"" isAutoIncrKey:""`                             // 客户合同Id
		AccountContract               string          `db:"account_contract" json:"account_contract,omitempty" columnType:"varchar(256)" isNullAble:"NO" defaultValue:"" isAutoIncrKey:""`                                  // 客户合同名称
		SkuId                         string          `db:"sku_id" json:"sku_id,omitempty" columnType:"varchar(64)" isNullAble:"NO" defaultValue:"" isAutoIncrKey:""`                                                       // sku_id
		SkuName                       string          `db:"sku_name" json:"sku_name,omitempty" columnType:"varchar(256)" isNullAble:"NO" defaultValue:"" isAutoIncrKey:""`                                                  // sku名称
		IdCountType                   int64           `db:"id_count_type" json:"id_count_type,omitempty" columnType:"int(10)" isNullAble:"NO" defaultValue:"0" isAutoIncrKey:""`                                            // 计费方式id
		CountType                     string          `db:"count_type" json:"count_type,omitempty" columnType:"varchar(64)" isNullAble:"NO" defaultValue:"未指定，等待媒介绑定供应商" isAutoIncrKey:""`                                  // 计费方式 1 CPM  2 CPC 3 CPT 4 CPA 5 CPS 6 CPL
		StartDate                     time.Time       `db:"start_date" json:"start_date,omitempty" columnType:"date" isNullAble:"NO" defaultValue:"" isAutoIncrKey:""`                                                      // 执行单刊期开始时间，格式：yyyy-MM-dd
		EndDate                       time.Time       `db:"end_date" json:"end_date,omitempty" columnType:"date" isNullAble:"NO" defaultValue:"" isAutoIncrKey:""`                                                          // 执行单刊期结束时间，格式：yyyy-MM-dd
		IdSalesOwner                  int64           `db:"id_sales_owner" json:"id_sales_owner,omitempty" columnType:"int(10)" isNullAble:"NO" defaultValue:"" isAutoIncrKey:""`                                           // 销售跟进人Id
		SalesOwner                    string          `db:"sales_owner" json:"sales_owner,omitempty" columnType:"varchar(64)" isNullAble:"NO" defaultValue:"" isAutoIncrKey:""`                                             // 销售跟进人姓名
		IdAe                          int64           `db:"id_ae" json:"id_ae,omitempty" columnType:"int(10)" isNullAble:"NO" defaultValue:"" isAutoIncrKey:""`                                                             // Ae/销管会员Id
		Ae                            string          `db:"ae" json:"ae,omitempty" columnType:"varchar(64)" isNullAble:"NO" defaultValue:"" isAutoIncrKey:""`                                                               // Ae/销管会员名称
		IdAeApprover                  int64           `db:"id_ae_approver" json:"id_ae_approver,omitempty" columnType:"int(10)" isNullAble:"NO" defaultValue:"0" isAutoIncrKey:""`                                          // Ae/销管审批人Id
		IdSettlement                  int64           `db:"id_settlement" json:"id_settlement,omitempty" columnType:"int(10)" isNullAble:"NO" defaultValue:"" isAutoIncrKey:""`                                             // 结算方式Id
		Settlement                    string          `db:"settlement" json:"settlement,omitempty" columnType:"varchar(64)" isNullAble:"NO" defaultValue:"" isAutoIncrKey:""`                                               // 结算方式名称
		ProjectId                     int64           `db:"ProjectId" json:"ProjectId,omitempty" columnType:"int(11)" isNullAble:"NO" defaultValue:"1" isAutoIncrKey:""`                                                    // 项目Id
		Is3C                          int64           `db:"is_3C" json:"is_3C,omitempty" columnType:"int(10)" isNullAble:"NO" defaultValue:"0" isAutoIncrKey:""`                                                            // 执行单创建来源 0 Erp新建 10 导入新建 12 自动充值新建 14 天玑新建
		Doc3C                         sql.NullString  `db:"doc_3C" json:"doc_3C,omitempty" columnType:"varchar(256)" isNullAble:"YES" defaultValue:"" isAutoIncrKey:""`                                                     // 未知
		MediaAccountInfoId            sql.NullString  `db:"media_account_info_id" json:"media_account_info_id,omitempty" columnType:"varchar(64)" isNullAble:"YES" defaultValue:"" isAutoIncrKey:""`                        // 媒体账户唯一Id
		MediaAccountId                string          `db:"media_account_id" json:"media_account_id,omitempty" columnType:"varchar(256)" isNullAble:"NO" defaultValue:"" isAutoIncrKey:""`                                  // 媒体账户Id
		MediaAccountName              string          `db:"media_account_name" json:"media_account_name,omitempty" columnType:"varchar(256)" isNullAble:"NO" defaultValue:"" isAutoIncrKey:""`                              // 媒体账户名称
		IdAccountDiscountType         int64           `db:"id_account_discount_type" json:"id_account_discount_type,omitempty" columnType:"int(10)" isNullAble:"NO" defaultValue:"" isAutoIncrKey:""`                       // 客户销售政策返点类型 1 返货  2 返现
		AccountDiscount               float64         `db:"account_discount" json:"account_discount,omitempty" columnType:"decimal(10,2)" isNullAble:"NO" defaultValue:"" isAutoIncrKey:""`                                 // 客户销售政策返点
		AccountBillAmount             float64         `db:"account_bill_amount" json:"account_bill_amount,omitempty" columnType:"decimal(10,2)" isNullAble:"NO" defaultValue:"" isAutoIncrKey:""`                           // 执行单金额，单位：元
		AccountDeltaAmount            float64         `db:"account_delta_amount" json:"account_delta_amount,omitempty" columnType:"decimal(10,2)" isNullAble:"NO" defaultValue:"0.00" isAutoIncrKey:""`                     // 未知
		AccountDeltaAmountDescription sql.NullString  `db:"account_delta_amount_description" json:"account_delta_amount_description,omitempty" columnType:"varchar(256)" isNullAble:"YES" defaultValue:"" isAutoIncrKey:""` // 未知
		IconAmount                    float64         `db:"icon_amount" json:"icon_amount,omitempty" columnType:"decimal(10,2)" isNullAble:"NO" defaultValue:"" isAutoIncrKey:""`                                           // 账显金额/执行单金额，单位：元
		IdBillStatus                  int64           `db:"id_bill_status" json:"id_bill_status,omitempty" columnType:"bigint(16)" isNullAble:"NO" defaultValue:"1" isAutoIncrKey:""`                                       // 执行单状态Id
		BillStatus                    string          `db:"bill_status" json:"bill_status,omitempty" columnType:"varchar(128)" isNullAble:"NO" defaultValue:"草稿" isAutoIncrKey:""`                                          // 执行单状态
		SkuVendorMapId                sql.NullString  `db:"sku_vendor_map_id" json:"sku_vendor_map_id,omitempty" columnType:"varchar(64)" isNullAble:"YES" defaultValue:"" isAutoIncrKey:""`                                // 采购计划Id
		SkuVendorMap                  sql.NullString  `db:"sku_vendor_map" json:"sku_vendor_map,omitempty" columnType:"varchar(256)" isNullAble:"YES" defaultValue:"" isAutoIncrKey:""`                                     // 采购计划名称
		VendorId                      sql.NullString  `db:"vendor_id" json:"vendor_id,omitempty" columnType:"varchar(64)" isNullAble:"YES" defaultValue:"" isAutoIncrKey:""`                                                // 供应商Id
		Vendor                        sql.NullString  `db:"vendor" json:"vendor,omitempty" columnType:"varchar(256)" isNullAble:"YES" defaultValue:"" isAutoIncrKey:""`                                                     // 供应商名称
		VendorContractId              sql.NullString  `db:"vendor_contract_id" json:"vendor_contract_id,omitempty" columnType:"varchar(64)" isNullAble:"YES" defaultValue:"" isAutoIncrKey:""`                              // 供应商合同Id
		VendorContract                sql.NullString  `db:"vendor_contract" json:"vendor_contract,omitempty" columnType:"varchar(256)" isNullAble:"YES" defaultValue:"" isAutoIncrKey:""`                                   // 供应商合同名称
		IdVendorDiscountType          sql.NullInt64   `db:"id_vendor_discount_type" json:"id_vendor_discount_type,omitempty" columnType:"int(10)" isNullAble:"YES" defaultValue:"" isAutoIncrKey:""`                        // 供应商采购政策返点类型 1 返货  2 返现
		IdVendorDiscountYear          int64           `db:"id_vendor_discount_year" json:"id_vendor_discount_year,omitempty" columnType:"int(10)" isNullAble:"NO" defaultValue:"0" isAutoIncrKey:""`                        // 供应商采购政策年
		IdVendorDiscountMonth         int64           `db:"id_vendor_discount_month" json:"id_vendor_discount_month,omitempty" columnType:"int(10)" isNullAble:"NO" defaultValue:"0" isAutoIncrKey:""`                      // 供应商采购政策月
		VendorDiscount                sql.NullFloat64 `db:"vendor_discount" json:"vendor_discount,omitempty" columnType:"decimal(10,2)" isNullAble:"YES" defaultValue:"" isAutoIncrKey:""`                                  // 供应商采购政策基础返点
		VendorDiscountEstimate        sql.NullFloat64 `db:"vendor_discount_estimate" json:"vendor_discount_estimate,omitempty" columnType:"decimal(10,2)" isNullAble:"YES" defaultValue:"" isAutoIncrKey:""`                // 供应商采购政策最追返点供应商采购政策最追返点
		VendorBillAmount              sql.NullFloat64 `db:"vendor_bill_amount" json:"vendor_bill_amount,omitempty" columnType:"decimal(10,2)" isNullAble:"YES" defaultValue:"" isAutoIncrKey:""`                            // 供应商执行单金额，单位：元
		IdMediaOwner                  int64           `db:"id_media_owner" json:"id_media_owner,omitempty" columnType:"int(10)" isNullAble:"NO" defaultValue:"0" isAutoIncrKey:""`                                          // 媒介Id
		MediaOwner                    string          `db:"media_owner" json:"media_owner,omitempty" columnType:"varchar(64)" isNullAble:"NO" defaultValue:"未指定" isAutoIncrKey:""`                                          // 媒介姓名
		MediaBindComment              sql.NullString  `db:"media_bind_comment" json:"media_bind_comment,omitempty" columnType:"varchar(4096)" isNullAble:"YES" defaultValue:"" isAutoIncrKey:""`                            // 媒介绑定内容
		AccountMoneyAmount            float64         `db:"account_money_amount" json:"account_money_amount,omitempty" columnType:"decimal(10,2)" isNullAble:"NO" defaultValue:"0.00" isAutoIncrKey:""`                     // 执行单绑定金额，单元：元
		AccountInvoiceAmount          float64         `db:"account_invoice_amount" json:"account_invoice_amount,omitempty" columnType:"decimal(10,2)" isNullAble:"NO" defaultValue:"0.00" isAutoIncrKey:""`                 // 执行单开票金额，废弃，不在使用
		VendorMoneyAmount             float64         `db:"vendor_money_amount" json:"vendor_money_amount,omitempty" columnType:"decimal(10,2)" isNullAble:"NO" defaultValue:"0.00" isAutoIncrKey:""`                       // 供应商款项金额，单位：元 ??
		IconRechargeAmount            float64         `db:"icon_recharge_amount" json:"icon_recharge_amount,omitempty" columnType:"decimal(10,2)" isNullAble:"NO" defaultValue:"0.00" isAutoIncrKey:""`                     // 充值金额，单位：元
		VendorInvoiceAmount           float64         `db:"vendor_invoice_amount" json:"vendor_invoice_amount,omitempty" columnType:"decimal(10,2)" isNullAble:"NO" defaultValue:"0.00" isAutoIncrKey:""`                   // 供应商开票金额 ??
		IconRechargeDate              sql.NullTime    `db:"icon_recharge_date" json:"icon_recharge_date,omitempty" columnType:"datetime" isNullAble:"YES" defaultValue:"" isAutoIncrKey:""`                                 // 充值时间，格式：yyyy-MM-dd HH:mm:ss
		VendorMoneyOutDate            sql.NullTime    `db:"vendor_money_out_date" json:"vendor_money_out_date,omitempty" columnType:"datetime" isNullAble:"YES" defaultValue:"" isAutoIncrKey:""`                           // 未知
		AccountReceivableDays         int64           `db:"account_receivable_days" json:"account_receivable_days,omitempty" columnType:"int(10)" isNullAble:"NO" defaultValue:"0" isAutoIncrKey:""`                        // 账期，单位：天
		AccountPayDateEstimate        sql.NullTime    `db:"account_pay_date_estimate" json:"account_pay_date_estimate,omitempty" columnType:"date" isNullAble:"YES" defaultValue:"" isAutoIncrKey:""`                       // 回款日期
		AccountPayDate                sql.NullTime    `db:"account_pay_date" json:"account_pay_date,omitempty" columnType:"date" isNullAble:"YES" defaultValue:"" isAutoIncrKey:""`                                         // 绑定汇款日期
		AccountPayOverdueDays         int64           `db:"account_pay_overdue_days" json:"account_pay_overdue_days,omitempty" columnType:"int(10)" isNullAble:"NO" defaultValue:"0" isAutoIncrKey:""`                      // 绑定汇款逾期天数
		AccountPrepayDoc              sql.NullString  `db:"account_prepay_doc" json:"account_prepay_doc,omitempty" columnType:"varchar(256)" isNullAble:"YES" defaultValue:"" isAutoIncrKey:""`                             // 垫款凭证
		CreditDeducted                float64         `db:"credit_deducted" json:"credit_deducted,omitempty" columnType:"decimal(15,2)" isNullAble:"NO" defaultValue:"0.00" isAutoIncrKey:""`                               // 未知
		IsDeleted                     int64           `db:"is_deleted" json:"is_deleted,omitempty" columnType:"int(11)" isNullAble:"NO" defaultValue:"0" isAutoIncrKey:""`                                                  // 是否删除 0 正常  1 删除
		IdCreator                     sql.NullInt64   `db:"id_creator" json:"id_creator,omitempty" columnType:"int(10)" isNullAble:"YES" defaultValue:"" isAutoIncrKey:""`                                                  // 创建人Id
		Creator                       sql.NullString  `db:"creator" json:"creator,omitempty" columnType:"varchar(64)" isNullAble:"YES" defaultValue:"" isAutoIncrKey:""`                                                    // 创建人姓名
		CreatedOn                     time.Time       `db:"created_on" json:"created_on,omitempty" columnType:"datetime" isNullAble:"NO" defaultValue:"" isAutoIncrKey:""`                                                  // 创建时间，格式：yyyy-MM-dd HH:mm:ss
		ModifiedOn                    time.Time       `db:"modified_on" json:"modified_on,omitempty" columnType:"timestamp" isNullAble:"NO" defaultValue:"CURRENT_TIMESTAMP" isAutoIncrKey:""`                              // 修改时间，格式：yyyy-MM-dd HH:mm:ss
		AeApproveTaskId               sql.NullString  `db:"ae_approve_task_id" json:"ae_approve_task_id,omitempty" columnType:"varchar(64)" isNullAble:"YES" defaultValue:"" isAutoIncrKey:""`                              // 审批任务Id
		AeApproveComment              sql.NullString  `db:"ae_approve_comment" json:"ae_approve_comment,omitempty" columnType:"varchar(256)" isNullAble:"YES" defaultValue:"" isAutoIncrKey:""`                             // Ae/销管备注内容
		MediaBindTaskId               sql.NullString  `db:"media_bind_task_id" json:"media_bind_task_id,omitempty" columnType:"varchar(64)" isNullAble:"YES" defaultValue:"" isAutoIncrKey:""`                              // 媒介绑定任务Id
		AeSubmitOn                    sql.NullTime    `db:"ae_submit_on" json:"ae_submit_on,omitempty" columnType:"datetime" isNullAble:"YES" defaultValue:"" isAutoIncrKey:""`                                             // Ae/销管提交时间
		AeApproveOn                   sql.NullTime    `db:"ae_approve_on" json:"ae_approve_on,omitempty" columnType:"datetime" isNullAble:"YES" defaultValue:"" isAutoIncrKey:""`                                           // Ae/销管审批时间
		MediaBindOn                   sql.NullTime    `db:"media_bind_on" json:"media_bind_on,omitempty" columnType:"datetime" isNullAble:"YES" defaultValue:"" isAutoIncrKey:""`                                           // 媒介绑定时间
		ParentBillId                  sql.NullString  `db:"parent_bill_id" json:"parent_bill_id,omitempty" columnType:"varchar(64)" isNullAble:"YES" defaultValue:"" isAutoIncrKey:""`                                      // 父级Id
		IdPaymentStatus               int64           `db:"id_payment_status" json:"id_payment_status,omitempty" columnType:"int(10)" isNullAble:"NO" defaultValue:"0" isAutoIncrKey:""`                                    // 未知
		IsClosed                      int64           `db:"is_closed" json:"is_closed,omitempty" columnType:"int(10)" isNullAble:"NO" defaultValue:"0" isAutoIncrKey:""`                                                    // ERP媒体直冲的充值类型
		ClosedOn                      sql.NullTime    `db:"closed_on" json:"closed_on,omitempty" columnType:"datetime" isNullAble:"YES" defaultValue:"" isAutoIncrKey:""`                                                   // 废弃，不在使用
		RevenueEstimate               float64         `db:"revenue_estimate" json:"revenue_estimate,omitempty" columnType:"decimal(10,2)" isNullAble:"NO" defaultValue:"0.00" isAutoIncrKey:""`                             // 预计收入，废弃，不在使用
		RevenueReal                   float64         `db:"revenue_real" json:"revenue_real,omitempty" columnType:"decimal(10,2)" isNullAble:"NO" defaultValue:"0.00" isAutoIncrKey:""`                                     // 实际收入，废弃，不在使用
		IdAppliedVendorMoneyType      int64           `db:"id_applied_vendor_money_type" json:"id_applied_vendor_money_type,omitempty" columnType:"int(10)" isNullAble:"NO" defaultValue:"0" isAutoIncrKey:""`              // 用于供应商执行单页面是否显示打款条件（还需要执行单状态）  1 不显示  0 显示
		RequestingVendorMoney         float64         `db:"requesting_vendor_money" json:"requesting_vendor_money,omitempty" columnType:"decimal(10,2)" isNullAble:"NO" defaultValue:"0.00" isAutoIncrKey:""`               // 打款中金额 ??
		RequestingIconRecharge        float64         `db:"requesting_icon_recharge" json:"requesting_icon_recharge,omitempty" columnType:"decimal(10,2)" isNullAble:"NO" defaultValue:"0.00" isAutoIncrKey:""`             // 充值中金额 ??
		RequestingAccountInvoice      float64         `db:"requesting_account_invoice" json:"requesting_account_invoice,omitempty" columnType:"decimal(10,2)" isNullAble:"NO" defaultValue:"0.00" isAutoIncrKey:""`         // 开票中金额 ??
		IdPendingOn                   int64           `db:"id_pending_on" json:"id_pending_on,omitempty" columnType:"bigint(10)" isNullAble:"NO" defaultValue:"0" isAutoIncrKey:""`                                         // 未知
		PendingStartOn                sql.NullTime    `db:"pending_start_on" json:"pending_start_on,omitempty" columnType:"datetime" isNullAble:"YES" defaultValue:"" isAutoIncrKey:""`                                     // 未知
		SalesPolicyID                 sql.NullString  `db:"SalesPolicyID" json:"SalesPolicyID,omitempty" columnType:"varchar(64)" isNullAble:"YES" defaultValue:"" isAutoIncrKey:""`                                        // 销售政策Id
		PurchasePolicyID              sql.NullString  `db:"PurchasePolicyID" json:"PurchasePolicyID,omitempty" columnType:"varchar(64)" isNullAble:"YES" defaultValue:"" isAutoIncrKey:""`                                  // 采购政策Id
		EndCustomerID                 sql.NullString  `db:"EndCustomerID" json:"EndCustomerID,omitempty" columnType:"varchar(64)" isNullAble:"YES" defaultValue:"" isAutoIncrKey:""`                                        // 广告主Id
		EndCustomerName               sql.NullString  `db:"EndCustomerName" json:"EndCustomerName,omitempty" columnType:"varchar(128)" isNullAble:"YES" defaultValue:"" isAutoIncrKey:""`                                   // 广告主名称
		IdCompany                     int64           `db:"idCompany" json:"idCompany,omitempty" columnType:"int(10)" isNullAble:"NO" defaultValue:"1" isAutoIncrKey:""`                                                    // 账套Id
		AccountReceivableID           sql.NullString  `db:"AccountReceivableID" json:"AccountReceivableID,omitempty" columnType:"varchar(64)" isNullAble:"YES" defaultValue:"" isAutoIncrKey:""`                            // 对账单Id
		TransferSrcBillID             string          `db:"TransferSrcBillID" json:"TransferSrcBillID,omitempty" columnType:"varchar(64)" isNullAble:"NO" defaultValue:"" isAutoIncrKey:""`                                 // 过单账套1执行单Id
		TransferDesBillID             string          `db:"TransferDesBillID" json:"TransferDesBillID,omitempty" columnType:"varchar(64)" isNullAble:"NO" defaultValue:"" isAutoIncrKey:""`                                 // 过单账套2执行单Id
		AetomediaStartTime            sql.NullTime    `db:"aetomedia_start_time" json:"aetomedia_start_time,omitempty" columnType:"datetime" isNullAble:"YES" defaultValue:"CURRENT_TIMESTAMP" isAutoIncrKey:""`            // Ae主管审批通过时间，不可随意修改，否则会影响等待时间的计算
		AetomediaEndTime              sql.NullTime    `db:"aetomedia_end_time" json:"aetomedia_end_time,omitempty" columnType:"datetime" isNullAble:"YES" defaultValue:"CURRENT_TIMESTAMP" isAutoIncrKey:""`                // 媒介绑定时间，不可随意修改，否则会影响等待时间的计算
	}
)

func newTBillExModel(conn sqlx.SqlConn) *defaultTBillExModel {
	return &defaultTBillExModel{
		conn:  conn,
		table: "`T_BillEx`",
	}
}

func (m *defaultTBillExModel) Delete(ctx context.Context, billId string) error {
	query := fmt.Sprintf("delete from %s where `bill_id` = ?", m.table)
	_, err := m.conn.ExecCtx(ctx, query, billId)
	return err
}

func (m *defaultTBillExModel) FindOne(ctx context.Context, billId string) (*TBillEx, error) {
	query := fmt.Sprintf("select %s from %s where `bill_id` = ? limit 1", tBillExRows, m.table)
	var resp TBillEx
	err := m.conn.QueryRowCtx(ctx, &resp, query, billId)
	switch err {
	case nil:
		return &resp, nil
	case sqlx.ErrNotFound:
		return nil, ErrNotFound
	default:
		return nil, err
	}
}

func (m *defaultTBillExModel) FindOneByIdx(ctx context.Context, idx int64) (*TBillEx, error) {
	var resp TBillEx
	query := fmt.Sprintf("select %s from %s where `idx` = ? limit 1", tBillExRows, m.table)
	err := m.conn.QueryRowCtx(ctx, &resp, query, idx)
	switch err {
	case nil:
		return &resp, nil
	case sqlx.ErrNotFound:
		return nil, ErrNotFound
	default:
		return nil, err
	}
}

func (m *defaultTBillExModel) Insert(ctx context.Context, data *TBillEx) (sql.Result, error) {
	query := fmt.Sprintf("insert into %s (%s) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)", m.table, tBillExRowsExpectAutoSet)
	ret, err := m.conn.ExecCtx(ctx, query, data.Idx, data.BillId, data.BillDspId, data.Bill, data.BillDoc, data.BillNotes, data.AccountId, data.Account, data.ProxiedAccountId, data.ProxiedAccount, data.AccountContractId, data.AccountContract, data.SkuId, data.SkuName, data.IdCountType, data.CountType, data.StartDate, data.EndDate, data.IdSalesOwner, data.SalesOwner, data.IdAe, data.Ae, data.IdAeApprover, data.IdSettlement, data.Settlement, data.ProjectId, data.Is3C, data.Doc3C, data.MediaAccountInfoId, data.MediaAccountId, data.MediaAccountName, data.IdAccountDiscountType, data.AccountDiscount, data.AccountBillAmount, data.AccountDeltaAmount, data.AccountDeltaAmountDescription, data.IconAmount, data.IdBillStatus, data.BillStatus, data.SkuVendorMapId, data.SkuVendorMap, data.VendorId, data.Vendor, data.VendorContractId, data.VendorContract, data.IdVendorDiscountType, data.IdVendorDiscountYear, data.IdVendorDiscountMonth, data.VendorDiscount, data.VendorDiscountEstimate, data.VendorBillAmount, data.IdMediaOwner, data.MediaOwner, data.MediaBindComment, data.AccountMoneyAmount, data.AccountInvoiceAmount, data.VendorMoneyAmount, data.IconRechargeAmount, data.VendorInvoiceAmount, data.IconRechargeDate, data.VendorMoneyOutDate, data.AccountReceivableDays, data.AccountPayDateEstimate, data.AccountPayDate, data.AccountPayOverdueDays, data.AccountPrepayDoc, data.CreditDeducted, data.IsDeleted, data.IdCreator, data.Creator, data.CreatedOn, data.ModifiedOn, data.AeApproveTaskId, data.AeApproveComment, data.MediaBindTaskId, data.AeSubmitOn, data.AeApproveOn, data.MediaBindOn, data.ParentBillId, data.IdPaymentStatus, data.IsClosed, data.ClosedOn, data.RevenueEstimate, data.RevenueReal, data.IdAppliedVendorMoneyType, data.RequestingVendorMoney, data.RequestingIconRecharge, data.RequestingAccountInvoice, data.IdPendingOn, data.PendingStartOn, data.SalesPolicyID, data.PurchasePolicyID, data.EndCustomerID, data.EndCustomerName, data.IdCompany, data.AccountReceivableID, data.TransferSrcBillID, data.TransferDesBillID, data.AetomediaStartTime, data.AetomediaEndTime)
	return ret, err
}

func (m *defaultTBillExModel) Update(ctx context.Context, newData *TBillEx) error {
	query := fmt.Sprintf("update %s set %s where `bill_id` = ?", m.table, tBillExRowsWithPlaceHolder)
	_, err := m.conn.ExecCtx(ctx, query, newData.Idx, newData.BillDspId, newData.Bill, newData.BillDoc, newData.BillNotes, newData.AccountId, newData.Account, newData.ProxiedAccountId, newData.ProxiedAccount, newData.AccountContractId, newData.AccountContract, newData.SkuId, newData.SkuName, newData.IdCountType, newData.CountType, newData.StartDate, newData.EndDate, newData.IdSalesOwner, newData.SalesOwner, newData.IdAe, newData.Ae, newData.IdAeApprover, newData.IdSettlement, newData.Settlement, newData.ProjectId, newData.Is3C, newData.Doc3C, newData.MediaAccountInfoId, newData.MediaAccountId, newData.MediaAccountName, newData.IdAccountDiscountType, newData.AccountDiscount, newData.AccountBillAmount, newData.AccountDeltaAmount, newData.AccountDeltaAmountDescription, newData.IconAmount, newData.IdBillStatus, newData.BillStatus, newData.SkuVendorMapId, newData.SkuVendorMap, newData.VendorId, newData.Vendor, newData.VendorContractId, newData.VendorContract, newData.IdVendorDiscountType, newData.IdVendorDiscountYear, newData.IdVendorDiscountMonth, newData.VendorDiscount, newData.VendorDiscountEstimate, newData.VendorBillAmount, newData.IdMediaOwner, newData.MediaOwner, newData.MediaBindComment, newData.AccountMoneyAmount, newData.AccountInvoiceAmount, newData.VendorMoneyAmount, newData.IconRechargeAmount, newData.VendorInvoiceAmount, newData.IconRechargeDate, newData.VendorMoneyOutDate, newData.AccountReceivableDays, newData.AccountPayDateEstimate, newData.AccountPayDate, newData.AccountPayOverdueDays, newData.AccountPrepayDoc, newData.CreditDeducted, newData.IsDeleted, newData.IdCreator, newData.Creator, newData.CreatedOn, newData.ModifiedOn, newData.AeApproveTaskId, newData.AeApproveComment, newData.MediaBindTaskId, newData.AeSubmitOn, newData.AeApproveOn, newData.MediaBindOn, newData.ParentBillId, newData.IdPaymentStatus, newData.IsClosed, newData.ClosedOn, newData.RevenueEstimate, newData.RevenueReal, newData.IdAppliedVendorMoneyType, newData.RequestingVendorMoney, newData.RequestingIconRecharge, newData.RequestingAccountInvoice, newData.IdPendingOn, newData.PendingStartOn, newData.SalesPolicyID, newData.PurchasePolicyID, newData.EndCustomerID, newData.EndCustomerName, newData.IdCompany, newData.AccountReceivableID, newData.TransferSrcBillID, newData.TransferDesBillID, newData.AetomediaStartTime, newData.AetomediaEndTime, newData.BillId)
	return err
}

func (m *defaultTBillExModel) tableName() string {
	return m.table
}
